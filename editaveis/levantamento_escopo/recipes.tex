
\subsection{\textit{Recipes}}
\label{sec:lev-rec-rec}

As \textit{recipes} são as unidades fundamentais para a execução de um \textit{cookbook}. Definem
todas as informações necessárias para configurar o sistema e seguem algumas regras
~\cite{chefdoc:2016}:

\begin{itemize}
  \item Deve ser incluído em um \textit{cookbook};
  \item Deve ser posto em um \textit{run-list} antes de ser usado pelo \textit{chef-client};
  \item É executado na mesma ordem disposta na \textit{run-list};
  \item Pode ser incluído em outro \textit{recipe};
  \item Pode ter dependência de outros \textit{recipe};
  \item Pode marcar um \textit{node} para facilitar a criação de agrupamento.
\end{itemize}

As \textit{recipes} são escritas em Ruby e pode-se utilizar dos recursos providos
pela linguagem. Trata-se de uma coleção desse recursos que são utilizados
para definir as ações das \textit{recipes}. No Código \ref{code:recipe} utiliza-se
três recursos: \textit{package, service} e \textit{template}.

\begin{minipage}{.90\textwidth}
  \lstset{style=shell}
  \lstinputlisting[language=Bash, label=code:recipe, caption=Exemplo de \textit{recipe}. Define a instala{\c{c}}{\~a}o e configura{\c{c}}{\~a}o do \textit{app} Nginx]{editaveis/code/recipe_example.rb}
\end{minipage}

Esse atributo será incluído no escopo de implementação. As \textit{recipes} são os componente chave a
ser gerado pelo Cupper. Nele serão descritos os passos, em sequência lógica de execução,
de todas as configurações. Para cada \textit{cookbook}, será gerado um arquivo de 
\textit{recipe 'default.rb'} contendo todas as informações necessárias para a execução.
A Seção~\ref{sec:cbresource} defini todos os recursos utilizados nas \textit{recipes}.
